# API说明

## 1 获取门店信息的接口
### 1.1 根据详细地址获取门店信息
#### 1.1.1 接口说明
```http
http://127.0.0.1:8080/api/storeinfo/v1/address?address=ADDRESS&userid=USERID&city=CITY&tag=TAG
```

请求参数说明
| 参数名 | 参数含义 | 类型 | 举例 | 默认值 | 是否必须 |
| :-----| :-----| :-----| :-----| :-----| :-----|
| address | 用户的详细地址 | string | 上海市闵行区双柏路888号 | 无 | 是 |
| userid | 用户的唯一标识ID，不提供此参数不会返回错误，但是不能获取到用户的领奖码 | string | 微信的openid        | 无 | 是 |
| city    | 用户的城市信息，用于过滤address，设置该参数后只返回当前城市的门店信息；如果不设置该参数则返回全国范围内的门店信息 | string | 上海市 | 无 | 否 |
| tag | 门店的分类标签，比如老百姓、华氏等等；设置该参数后只返回该分类下的门店；该参数的定义由需求方提供 | string | 老百姓 | 无 | 否 |  

返回参数名
| 名称 | 含义 | 类型 |
| :-----| :-----| :-----| 

该接口直接返回门店信息界面，无返回值

### 1.2 根据地址经纬度获取门店信息
#### 1.2.2 接口说明
```http
http://127.0.0.1:8080/api/storeinfo/v1/location?location=LAT,LNG&userid=USERID&city=CITY&tag=TAG
```
请求参数说明
| 参数名 | 参数含义 | 类型 | 举例 | 默认值 | 是否必须 |
| :-----| :-----| :-----| :-----| :-----| :-----|
| location | 用户的经纬度坐标 | float | 38.76623,116.43213 <br> lat<纬度>,lng<经度> | 无 | 是 |
| userid | 用户的唯一标识ID，不提供此参数不会返回错误，但是不能获取到用户的领奖码  | string | 微信的openid        | 无 | 是 |
| city    | 用户的城市信息，用于过滤address，设置该参数后只返回当前城市的门店信息；如果不设置该参数则返回全国范围内的门店信息 | string | 上海市 | 无 | 否 |
| tag | 门店的分类标签，比如老百姓、华氏等等；设置该参数后只返回该分类下的门店；该参数的定义由需求方提供 | string | 老百姓 | 无 | 否 |  

该接口直接返回门店信息界面，无返回值

## 2 领奖系统API
### 2.1 用户获奖信息上传
#### 2.1.1 接口说明
说明: 用户抽奖，抽中奖品后，需要将用户信息以及奖品信息上传到指定的接口
方法：POST
数据格式：json
接口：
```http
http://127.0.0.1:8080/api/prize/v1/info
```

上传数据json格式:
```json
{
    "userid": "USERID",     //识别用户信息的唯一ID, 建议使用微信用户的openid
    "username": "USERNAME", //用户昵称
    "prize": "PRIZE"        //奖品信息，例如"儿童手表"、"5元红包"
}
```

返回数据json格式：
```json
{
    "status":"success"  //fail
}
```